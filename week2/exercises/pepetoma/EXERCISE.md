## 1. QAPのトレースがなぜ加算ゲートの出力を記録しなくてもいいのか、理由を説明してください。（ヒント: Linear PCP）
QAPでは、加算ゲートへの入力がたどる回路の経路上に乗算ゲートがある場合、各径路上で最初に通過する乗算ゲートに対応する評価点で1となるセレクター多項式をその加算ゲートの入力に対応させる。このようにセレクター多項式を対応させることで、linear PCPで問い合わせた評価点でマスター多項式を評価すると、線形結合で表すことができる加算ゲートの出力は、マスター多項式の左入力と右入力の総和部分に現れるため、乗算ゲートの入力に加算ゲートの出力が含まれることとなる。このような理由で、QAPのトレースは加算ゲートの出力を記録しなくても良い。

---

## 2. 講義で紹介された算術回路とセレクター多項式をもとにマスター多項式p(x)と商多項式q(x)を一つ考えてください。

#### マスター多項式p(x)
マスター多項式p(x)は次のように表される。
$$
p(x) = L(x)R(x)-O(x)
$$

算術回路は講義中で紹介されたものとし、多項式は有限体$\mathbb{F}_7$上、評価点は$\{\omega,\omega^2,\omega^3\}$とする。<br>
ここで、 
$$\omega = 2$$
$c_i$ $(i=1,2,...,9)$はインプットとア乗算ゲートのアウトプット<br>
インプットを次のようにすると<br>
$c_1 = 1$,
$c_2 = 1$,
$c_3 = 1$,
$c_4 = 1$,
$c_5 = 1$,
$c_6 = 1$

乗算ゲートのアウトプットは<br>
$c_7 = 1$,
$c_8 = 2$,
$c_9 = 4$


L(x),R(x),O(x)は次のように表される。

$$
L(x) = c_1 * (3x^2 + 6x + 5) + c_3 * (5x^2 + 5x + 5) + c_4 * (5x^2 + 5x + 5) + c_7 * (6x^2 + 3x + 5)
$$
$$
     = 1 * (3x^2 + 6x + 5) + 1 * (5x^2 + 5x + 5) + 1 * (5x^2 + 5x + 5) + 1 * (6x^2 + 3x + 5)
$$
$$
     = 5x^2 + 5x + 6
$$
<br>

$$
R(x) = c_2 * (3x^2 + 6x + 5) + c_3 * (6x^2 + 3x + 5) + c_4 * (6x^2 + 3x + 5) + c_5 * (5x^2 + 5x + 5) + c_6 * (5x^2 + 5x + 5)
$$
$$
     = 1 * (3x^2 + 6x + 5) + 1 * (6x^2 + 3x + 5) + 1 * (6x^2 + 3x + 5) + 1 * (5x^2 + 5x + 5) + 1 * (5x^2 + 5x + 5)
$$
$$
     = 4x^2 + x + 4
$$
<br>

$$
O(x) = c_7 * (3x^2 + 6x + 5) + c_8 * (6x^2 + 3x + 5) + c_9 * (5x^2 + 5x + 5)
$$
$$
     = 1 * (3x^2 + 6x + 5) + 2 * (6x^2 + 3x + 5) + 4 * (5x^2 + 5x + 5)
$$
$$
     = 4x
$$

よって、
$$
p(x) = (5x^2 + 5x + 6)(4x^2 + x + 4) - (4x)
$$
$$
     = 6x^4 +4x^3 + x + 3
$$

#### 商多項式q(x)
p(x)は次のように表されるものとする。
$$
p(x) = V(x)q(x)
$$

ここで
$$
V(x) = (x - \omega)(x - \omega^2)(x - \omega^3)
$$
$$
     = x^3 - 1
$$
$$
     = x^3 + 6
$$

よって、
$$
q(x) = p(x)/V(x)
$$
$$
     = 6x + 4
$$
---

## 3. Linear PCPベースのSNARKとGroth16がどのような安全性仮定に基づいているか説明してください。(ヒント: Generic Group Model, KoE Assumption)

Linear PCPベースのSNARKでは、KoE Assumptionに基づいて、証明者が証明を正しく生成したことを保証している。

Groth16では、Generic Group Modelに基づいて、証明を生成するために証明鍵を用いられたことを保証している。



---